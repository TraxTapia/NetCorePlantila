@using Newtonsoft.Json;
@using MAC.ViewModel.Layout;
@using MAC.Models.Medicamentos;
@model VMTabla
@{
    String ModelDataTable = String.Empty;
    if (Model != null)
    {
        DefinicionJSON ojSON = Model.cDefinicionJSON;
        ModelDataTable = JsonConvert.SerializeObject(ojSON);
    }
    String ErrorApp = String.Empty;
    if (ViewBag.Error != null) { ErrorApp = ViewBag.Error; }
}
@section Styles{
    <link rel="stylesheet" type="text/css" href="~/lib/cdndatatables/1.10.23/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" type="text/css" href="~/lib/cdndatatables/buttons/1.6.5/css/buttons.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="~/lib/cdndatatables/colreorder/1.5.2/css/colReorder.dataTables.min.css" />
    <link href="~/lib/jquery-ui/themes/vader/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/lib/switchery/switchery.css" rel="stylesheet" />
    <link href="~/lib/iCheck/custom.css" rel="stylesheet" />
    <style>
        td {
            font-size: 8pt;
        }

        table.dataTable thead {
            background-color: #407d86;
            color: white;
            white-space: nowrap;
        }
    </style>
}
<h3>Catálogo General de Sales</h3>
<button class="btn btn-default btn-lg btn-circle" title="Nuevo Medicamento" data-toggle="modal" data-target="#divEditMedicamento">
    <i class="fa fa-lg fa-plus"></i>
</button>
<table id="JQTable" class="table table-striped table-bordered" style="cursor:pointer;"></table>
@await Html.PartialAsync("Edit.cshtml", new VMMedicamentoDetalle())
@section scripts{
    <script type="text/javascript" src="~/lib/cdndatatables/1.10.23/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="~/lib/cdndatatables/1.10.23/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript" src="~/lib/cdndatatables/colreorder/1.5.2/js/dataTables.colReorder.min.js"></script>
    <script type="text/javascript" src="~/lib/cdndatatables/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="~/lib/cdnjs/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" src="~/lib/cdnjs/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" src="~/lib/cdndatatables/buttons/1.6.5/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="~/lib/cdndatatables/buttons/1.6.5/js/buttons.print.min.js"></script>
    <script src="~/js/JQDatatable.js" asp-append-version="true"></script>
    <script src="~/js/Medicamentos/Sales.js" asp-append-version="true"></script>
    <script src="~/lib/switchery/switchery.js"></script>
    <script src="~/lib/iCheck/icheck.min.js"></script>
    <script language="javascript" type="text/javascript">
        $(document).ready(function (e) {
            var data = @(String.IsNullOrEmpty(ModelDataTable) ? 0 : 1 );
            if (data !== 0) {
                LoadInfo(@Html.Raw(ModelDataTable));
            }
            var ErrorApp = "@ErrorApp";
            if (ErrorApp !== "") {
                NotificarError(ErrorApp);
            }
            var elem = document.querySelector('.js-switch');
            var switchery = new Switchery(elem, { color: '#1AB394' });
            $('.i-checks').iCheck({
                checkboxClass: 'icheckbox_square-green',
                radioClass: 'iradio_square-green',
            });
            $("#frmEditarSal").validate();
        });
     </script>
}
